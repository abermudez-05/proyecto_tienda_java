<!DOCTYPE html>
<html xmlns:th="http://thymeleaf.org">
<head>
<meta charset="UTF-8">
<link rel="stylesheet" href="../css/estilos_admin.css">
<title><span th:text="#{peliculas.registrar.tituloPagina}"></span></title>
</head>
<body>

<div th:insert="fragments/general.html :: menu"></div>

<div class="contenedor-formulario">
    <div class="titulo-formulario">
        <span th:text="#{peliculas.registrar.titulo}"></span>
    </div>

    <form action="#" th:action="guardarPelicula" th:object="${nuevoPelicula}" method="post" enctype="multipart/form-data">

        <div class="campo-formulario">
            <label for="titulo"><span th:text="#{peliculas.campo.titulo}"></span>:</label>
            <input type="text" id="titulo" th:field="*{titulo}"/>
            <span class="error-mensaje" th:if="${#fields.hasErrors('titulo')}" th:errors="*{titulo}"></span>
        </div>

        <div class="campo-formulario">
            <label for="director"><span th:text="#{peliculas.campo.director}"></span>:</label>
            <input type="text" id="director" th:field="*{director}"/>
            <span class="error-mensaje" th:if="${#fields.hasErrors('director')}" th:errors="*{director}"></span>
        </div>

        <div class="campo-formulario">
            <label for="descripcion"><span th:text="#{peliculas.campo.descripcion}"></span>:</label>
            <textarea id="descripcion" rows="4" th:field="*{descripcion}"></textarea>
            <span class="error-mensaje" th:if="${#fields.hasErrors('descripcion')}" th:errors="*{descripcion}"></span>
        </div>

        <div class="campo-formulario">
            <label for="genero"><span th:text="#{peliculas.campo.genero}"></span>:</label>
            <input type="text" id="genero" th:field="*{genero}"/>
            <span class="error-mensaje" th:if="${#fields.hasErrors('genero')}" th:errors="*{genero}"></span>
        </div>

        <div class="campo-formulario">
            <label for="precio"><span th:text="#{peliculas.campo.precio}"></span> (€):</label>
            <input type="number" id="precio" step="0.01" th:field="*{precio}"/>
            <span class="error-mensaje" th:if="${#fields.hasErrors('precio')}" th:errors="*{precio}"></span>
        </div>

        <div class="campo-formulario">
            <label for="presupuesto"><span th:text="#{peliculas.campo.presupuesto}"></span> (€):</label>
            <input type="number" id="presupuesto" step="0.01" th:field="*{presupuesto}"/>
            <span class="error-mensaje" th:if="${#fields.hasErrors('presupuesto')}" th:errors="*{presupuesto}"></span>
        </div>

        <div class="campo-formulario">
            <label for="idCategoria"><span th:text="#{peliculas.campo.categoria}"></span>:</label>
            <select id="idCategoria" th:field="*{idCategoria}">
                <option th:each="c : ${categorias}" th:value="${c.id}" th:text="${c.nombre}"></option>
            </select>
        </div>

        <div class="campo-formulario">
            <label for="imagen"><span th:text="#{peliculas.campo.portada}"></span>:</label>
            <input type="file" id="imagen" th:field="*{imagen}"/>
        </div>

        <div class="campo-formulario">
            <label for="imagenExtendida"><span th:text="#{peliculas.campo.imagenExtendida}"></span>:</label>
            <input type="file" id="imagenExtendida" th:field="*{imagenExtendidaFormulario}"/>
        </div>

        <input type="submit" th:value="#{boton.registrarPelicula}">
    </form>
</div>

</body>
</html>
